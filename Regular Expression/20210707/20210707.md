하루 10분 정규표현식
===
***

### 탐욕적(Greedy) 수량자와 게으른(lazy) 수량자

아래 예문을 보자.

    This offer is not available to customers 
    living <b>AK</b> in <b>AK</b> and <b>HI</b>

여기서 나는 /<b/>태그로 감싸진 부분만 찾고싶다고 하자. 우선 나는 아래와 같은 표현식을 써보았다

    <[Bb]>.*<\/[Bb]>

검색 결과 검색되는것은 다음과 같았다
    
    [<b>AK</b> in <b>AK</b> and <b>HI</b>] -> 한덩어리로 검색됨

이 결과들도 물론 /<b/>태그로 감싸진건 맞지만 내가원하는것은 /<b/>HI/</b/> 와 같은 형태들이다
검색이 저렇게 나오는 이유는 기본적으로 \*, + 메타문자가 탐욕적 설계가 되어있기 때문이다. 이말의 의미는 가능한 한 
큰 덩어리를 찾으려고 하며, **앞에서부터 찾는것이 아닌 텍스트의 마지막에서 시작해서 거꾸로 탐색을 한다는 것이다.**

내가 원하던 대로 찾기 위해서는 탐욕적 수량자를 게으른 수량자로 바꿔야 한다. **게으른 수량자는 문자 일치를 최소로 검색하기 때문이다** 게으른 수량자는 기존 수량자 뒤에 '?'를 붙이면 된다

    * -> *?
    + -> +?
    {n,} -> {n,}?

표현식을 아래와 같이 표현하면 원하던 형태로 검색을 할 수 있다.

    <[Bb]>.*?<\/[Bb]>

### 경계 지정

다음과 같은 문장에서 나는 'cat'이라는 단어만 찾고싶다고 하자.

    The cat scattered his food

그리고 그냥 cat을 작성해 정규표현식을 작성했다고 하자.

    cat

여기서 단일 단어 'cat'도 검색되지만 scattered의 중간에 들어가있는 cat까지 검색이 된다.
이런 경우 '경계'를 사용하면 된다.

가장 흔하게 쓰이는 경계는 \b로 표시하는 방법이다.
**\b는 '단어'의 시작, 마지막을 일치시키는 경우 사용한다.** 표현식을 아래와 같이 수정해주면 단일 단어 'cat'만 검색할 수 있게된다.

    \bcat\b

이를 응용해 해석을 몇개 더 해보면

    \bcat

위 표현식 같은 경우 단어 시작부분만 경계를 지정하고 그 뒤에는 경계를 지정하지 않겠다는 의미이다.

    cattower 

이 단어같은 경우에도 '\bcat'표현식으로 검색되게 되는것이다.

    cat\b

위 표현식은 반대로 단어 끝 부분만 경계를 지정하고 시작부분에 대해서는 지정하지 않겠다는 의미이다.

    Apache Tomcat

이와 같은 경우 'cat\b'에 검색이 되는것이다.

앞에서 메타문자 \w([a-zA-Z0-9])와 \W([^a-zA-Z0-9])가 서로 반대 의미를 가졌듯이 \B또한 \b와 반대되는 역할을 가지고 있다.

\B는 단어의 경계와 일치시키고 싶지 않은 경우에 사용한다.

    Please enter the nine-digit id as it
    appears on your color - coded pass -key

위 예제에 대해 '\B-\B'표현식을 작성하면 'color - coded'부분이 검색된다.하이픈 양 옆에 단어 경계와 일치시키고 싶지 않은 경우라는 의미로, 양옆에 별 다른 단어가 붙어있지 않기 떄문에 검색된 것이다.

조금 응용해서  'pass -key'를 검색하고 싶다고 하자.그런 경우 왼쪽은 단어와의 경계가 없고, 오른쪽은 단어와의 경계가 존재하기 때문에, '\B-'와 같은 표현식을 작성해주면 된다.
